<!DOCTYPE html>
<html>
<head>
  <title>Blog</title>
  <%= csrf_meta_tags %>

  <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
</head>

<body>
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="nav-bar-header">
      <%= link_to 'home', root_path, class: "navbar-brand" %>

    </div>

    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li class="search">
          <%= form_tag search_articles_path, method: :get do %>
              <%= text_field_tag :search, params[:search], placeholder: "search" %>
          <% end %>
        </li>
        <% if user_signed_in? %>
            <li><%= link_to 'new article', new_article_path %></li>
        <% end %>
      </ul>

      <ul class=" nav navbar-nav navbar-right">
        <% if user_signed_in? %>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" , aria-expanded="false">Account<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li> <%= link_to 'Account', edit_user_registration_path %> </li>
                <li class="divider"></li>
                <li> <%= link_to 'Login out', destroy_user_session_path, method: :delete, data: {confirm: "are you sure?"} %> </li>
              </ul>
            </li>
        <% else %>
            <li> <%= link_to 'Login in', new_user_session_path %> </li>
            <li> <%= link_to 'Login up', new_user_registration_path %> </li>
        <% end %>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" , aria-expanded="false">Catagory<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <% Catalog.all.each do |t| %>
                <li><%= link_to t.name, articles_path(catalog: t.name) %></li>
            <% end %>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
<div class="container">
  <div class="row">
    <% flash.each do |name, msg| %>
        <%= content_tag :div, msg, class: "alert alert-info" %>
    <% end %>
    <div class="col-md-12 col-sm-12">
      <%= yield %>
    </div>
  </div>
</div>
</body>
</html>
