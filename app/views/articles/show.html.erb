<main>
  <article>
    <header>
      <h1 class="text-center"><%= @article.title %></h1>
      <% if @article.catalog.present? %>
        <div class="article-catalog-type">
          <p class="help-block">
            <span> posted on <%= @article.created_at.strftime("%Y-%m-%d") %> </span>
            <br>
            <span> Type: <%= @article.catalog.name %> </span>
          </p>
        </div>
      <% end %>
    </header>
    <% if @article.avatar.present? %>
      <figure>
        <%= image_tag @article.avatar, style: "height:350px;width:auto;", class: "img-fluid img-thumbnail rounded mx-auto d-block" %>
      </figure>
      <br>
    <% end %>
    <div class="text-center">
      <p> <%= @article.body.html_safe %> </p>
      <% if !current_user.blank? %>
        <% if @article.user_id == current_user.id %>
          <%= link_to 'Edit article', edit_article_path(@article), class: "btn", target: :_self %>
        <% end %>
      <% end %>
    </div>
    <div class="like-article">
      <h5>
        <% if @like_article_state == 1 %>
          <i class="fas fa-heart" id="like_article_state"></i>
        <% else %>
          <i class="far fa-heart" id="like_article_state"></i>
        <% end %>
        <%= @article.like_articles.where(state: 1).size %>
      </h5>
    </div>
  </article>
  <br>
  <br>
</main>
<section class="new-comment text-center">
  <%= render "comments/form" %>
  <br>
  <br>
</section>
<section class="comments text-center">
  <% if @comments.size > 0 %>
    <p><%= @comments.size %> comments</p>
    <ul class="list-group list-group-flush">
      <%= render @comments %>
    </ul>
    <br>
    <p>
      <%= will_paginate(@comments, :renderer => WillPaginate::ActionView::Bootstrap4LinkRenderer, class: 'justify-content-center') %>
    </p>
  <% end %>
</section>